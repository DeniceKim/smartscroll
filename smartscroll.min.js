!function(o){var t={mode:"vp",autoHash:!0,sectionScroll:!0,sectionWrapperSelector:".section-wrapper",sectionClass:"section",animationSpeed:300,headerHash:"header"};o.smartscroll=function(e){o.extend(t,e),"vp"==t.mode&&(o("."+t.sectionClass).css({height:o(window).height()}),o(window).bind("resize",function(){o("."+t.sectionClass).css({height:o(window).height()})})),o("."+t.sectionClass).css({overflow:"hidden"});var n=o("."+t.sectionClass).length,i=function(e){var i;if("vp"==t.mode)return i=-(o("."+t.sectionClass)[0].getBoundingClientRect().top/o(window).height()),e?Math.floor(i):Math.round(i);i=-1;var s,a,r=-o("."+t.sectionClass)[0].getBoundingClientRect().top+o(window).height()/2;if(0>r)return i;for(var c=0;n>c&&(i=c,!(n-1>c&&(s=o("."+t.sectionClass+":nth-of-type("+(c+1)+")")[0].offsetTop-o(t.sectionWrapperSelector+":first").position().top,a=o("."+t.sectionClass+":nth-of-type("+(c+2)+")")[0].offsetTop-o(t.sectionWrapperSelector+":first").position().top,r>=s&&a>r)));c++);return i};if(t.sectionScroll){var s=!1,a=function(e){s=!0;var i,a=0;if(0>e)i=o(t.sectionWrapperSelector+":first").position().top-53;else{if(e>=n)return s=!1,!1;i=o("."+t.sectionClass+":nth-of-type("+(e+1)+")")[0].offsetTop,a=t.animationSpeed}return o("body,html").stop(!0,!0).animate({scrollTop:i},a,function(){s=!1}),!1},r=function(){a(i()-1)},c=function(){a(i()+1)};o(window).bind("mousewheel DOMMouseScroll",function(e){!s&&Math.max(window.document.body.scrollTop,document.documentElement.scrollTop)>=o(t.sectionWrapperSelector+":first").position().top&&(e.preventDefault(),e.stopPropagation(),e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?r():c())})}window.location.hash;t.autoHash&&o(window).bind("scroll",function(){var e=o("."+t.sectionClass+":nth-of-type("+(i(!0)+1)+")").data("hash");"undefined"==typeof e&&(window.location.hash=e=t.headerHash),window.location.hash!=="#"+e&&(window.location.hash=e)})}}(jQuery);