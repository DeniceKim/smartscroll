!function(e){var t;"undefined"!=typeof Lethargy&&null!==Lethargy&&(t=new Lethargy);var o={mode:"vp",autoHash:!0,sectionScroll:!0,initialScroll:!0,keepHistory:!1,sectionWrapperSelector:".section-wrapper",sectionClass:"section",animationSpeed:500,headerHash:"header",breakpoint:null};e.smartscroll=function(i){this.validBreakPoint=!1,this.belowBreakpoint=!1,e.extend(o,i),null!==o.breakpoint&&o.breakpoint===parseInt(o.breakpoint,10)&&o.breakpoint>0&&(this.validBreakPoint=!0),"vp"==o.mode&&(e("."+o.sectionClass).css({height:e(window).height()}),e(window).bind("resize",function(t){e("."+o.sectionClass).css({height:e(window).height()})})),e("."+o.sectionClass).css({overflow:"hidden"});var n=e("."+o.sectionClass).length,r=function(t){var i;if("vp"==o.mode)return i=-(e("."+o.sectionClass)[0].getBoundingClientRect().top/e(window).height()),t?Math.floor(i):Math.round(i);i=-1;var r,s,a=-e("."+o.sectionClass)[0].getBoundingClientRect().top+e(window).height()/2;if(0>a)return i;for(var l=0;n>l&&(i=l,!(n-1>l&&(r=e("."+o.sectionClass+":nth-of-type("+(l+1)+")")[0].offsetTop-e(o.sectionWrapperSelector+":first").position().top,s=e("."+o.sectionClass+":nth-of-type("+(l+2)+")")[0].offsetTop-e(o.sectionWrapperSelector+":first").position().top,a>=r&&s>a)));l++);return i},s=function(t,o){e("body,html").stop(!0,!0).animate({scrollTop:t},o,function(){a=!1})};if(o.sectionScroll){this.validBreakPoint&&e(window).bind("resize",function(t){if(e(window).width()<o.breakpoint){if(!this.belowBreakpoint)return d(),this.belowBreakpoint=!0,!1}else this.belowBreakpoint&&(h(),this.belowBreakpoint=!1)});var a=!1,l=function(t){a=!0;var i,r=0;if(0>t)i=e(o.sectionWrapperSelector+":first").position().top-53;else{if(t>=n)return a=!1,!1;i=e("."+o.sectionClass+":nth-of-type("+(t+1)+")")[0].offsetTop,r=o.animationSpeed}return s(i,r),!1},c=function(){l(r()-1)},p=function(){l(r()+1)},h=function(){e(window).bind("mousewheel DOMMouseScroll",function(i){var n=e(o.sectionWrapperSelector+":first"),r=Math.max(window.document.body.scrollTop,document.documentElement.scrollTop),s=n.position().top,l=n.outerHeight()+s-e(window).height();if(!(r<=parseInt(s,10)||r>=parseInt(l,10))){var h;if(t&&(h=t.check(i)),i.preventDefault(),i.stopPropagation(),!a)if(t&&1===h)c();else if(t&&-1===h)p();else{if(t&&h===!1)return!1;i.originalEvent.wheelDelta>0||i.originalEvent.detail<0?c():(i.originalEvent.wheelDelta<0||i.originalEvent.detail>0)&&p()}return!1}})},d=function(){e(window).unbind("mousewheel DOMMouseScroll")};h()}var f=window.location.hash;if(o.autoHash&&e(window).bind("scroll",function(t){var i=e("."+o.sectionClass+":nth-of-type("+(r(!0)+1)+")").data("hash");("undefined"==typeof i||window.location.hash!=="#"+i)&&("undefined"==typeof i&&(i=o.headerHash),o.keepHistory?window.location.hash=i:window.location.replace(window.location.href.split("#")[0]+"#"+i))}),o.initialScroll&&f.length>0){var w=e('[data-hash="'+f.substr(1)+'"]');w.length>0&&s(w[0].offsetTop,0)}}}(jQuery);